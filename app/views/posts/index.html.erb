<p style="color: green"><%= notice %></p>

<% content_for :title, "Posts" %>

<h1>Blog Posts</h1>

<div class="d-flex flex-column align-items-center" style="min-height: 100vh;">
  <!-- Top bar with 'New Post' aligned to right -->
  <div class="w-75 d-flex justify-content-end mb-2">
    <%= link_to "New Post", new_post_path, class: "btn btn-dark" %>
  </div>

  <!-- Centered table -->
  <div id="posts" class="w-75">
    <table class="table table-striped text-center">
      <thead class="table-dark">
        <tr>
          <th scope="col"></th>
          <th scope="col">Title</th>
          <th scope="col">Description</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <% @posts.each do |post| %>
          <tr>
            <td><%= post.created_at.strftime("%d-%m-%Y")%></td>
            <td><%= post.title %></td>
            <td><%= truncate(post.body, length: 100, omission: '... [Read more]') %></td>
            <td>
              <%= link_to image_tag("icons/show.png", alt: "Show", class: "icon"), post %>
              <%= link_to image_tag("icons/pencils.png", alt: "Edit", class: "icon"), edit_post_path(post) %>
              <%= link_to image_tag("icons/delete.png", alt: "Delete", class: "icon"), post, method: :delete, data: { confirm: "Are you sure?" } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <div class="pagination">
      <%= paginate @posts, window: 1 %>
    </div>
  </div>
</div>


